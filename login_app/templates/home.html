{% extends 'base.html' %}
{% load static %}


{% block title %}Home{% endblock %}

{% block content %}
{% if user.is_authenticated %}
  
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{% static 'style.css' %}">
    <link rel="stylesheet" href="{% static 'responsive.css' %}">
    <script src="{% static 'app.js' %}" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <title>Expense Tracker</title>
</head>

<body>

    <nav>
        <div class="nav-title">
            Expense tracker
        </div>
    </nav>

    <header class="container">
        <!-- Dashboard Title -->

        <div class="main-title flex">
            <div class="dashborad-title">
                <h1 class="title">Dashboard</h1>
                <p> Hi {{ user.username }}! Welcome Back. </p>
            </div>

            <div class="reset-btn flex" id="reset">
                Reset
            </div>
            
            <div id="exportCSV" class="exportCSV-btn flex">
                Report
            </div>
              
        </div>

        <!-- Dashboard -->

        <main class="dashboard ">

            <!-- Budget Section -->

            <div class="budgetSection flex">
                <div class="total-balnace flex fl-col">
                    <div class="balance-title">
                        <p>Income</p>
                    </div>
                    <div class="balance-amount text-ellipise">
                        <h1 id="balance-amount" >NGN 00,000.00</h1>
                    </div>
                </div>

                <!-- Add Budget Card -->

                <div class="addBudget flex fl-col">
                    <div class="budget-title">Add income</div>
                    <form action="#" class="flex fl-col">
                        <input type="number" class="input-feild" id="budgetAmount" placeholder="Enter your income.."
                            autofocus>
                        <button class="primary-btn flex" id="addBudget">Add Income <ion-icon
                                name="arrow-forward-outline"></ion-icon></button>
                    </form>
                </div>
            </div>

            <div class="expenseSection flex">

                <!-- Income And Expense Card / Expense List -->

                <div class="expense-list-card flex fl-col">


                    <div class="income-expense-cards flex">

                        <!-- Income Card -->

                        <div class="incomeCard flex fl-col text-ellises">
                            <h2 class="income-title">Current Amount</h2>
                            <h1 id="currentAmount" class="current-amount">NGN 00,000</h1>
                        </div>

                        <!-- Expense Card -->

                        <div class="expenseCard flex fl-col text-ellises">
                            <h2 class="expense-title">Expense</h2>
                            <h1 id="expenseAmount" class="expense-amount">NGN 00,000</h1>
                        </div>
                    </div>

                    <!-- Expense List -->

                    <div class="main-title">
                        <h2>Expense List : </h2>
                    </div>

                    <div class="expenseList">
                        <ul class="listITems flex fl-col" id="expenseList">

                            <!-- Expense Items -->

                            <!-- <li class="item flex">
                                <div class="list-expense-title-desc text-ellises flex">
                                    <div class="flex fl-col list-text">
                                        <div class="list-expense-title">Dummy</div>
                                        <div class="list-expense-desc">Lorem ipsum dolor sit amet.</div>
                                    </div>
                                    <div class="list-expense-amount flex fl-col">
                                        <span>00</span>
                                        <div class="date">17/07/2002</div>
                                    </div>
                                </div>
                                <button id="delete">X</button>
                            </li> -->


                        </ul>
                    </div>

                </div>
                
                <div class="addExpense flex fl-col">
                    <div class="expense-title">Add Expense</div>
                    <form action="#" class="flex fl-col expenseForm" required>
                        <div>
                            <label>Expense Title: </label>
                            <input type="text" class="input-feild" id="expTitle"
                                placeholder="Enter your expense title.." required maxlength="15" autocomplete="off">
                        </div>
                        <div>
                            <label>Expense Description: </label>
                            <input type="text" class="input-feild" id="expDesc" placeholder="Enter your expense Desc.."
                                required maxlength="30" autocomplete="off">
                        </div>
                        <div>
                            <label>Expense Amount: </label>
                            <input type="number" class="input-feild" id="expAmount" placeholder="Enter your expense.."
                                required autocomplete="off">
                        </div>

                        <div>
                            <label>Current Date: </label>
                            <input type="date" class="input-feild" id="date" placeholder="Enter your expense.." required
                                autocomplete="off">
                        </div>

                        <button class="primary-btn flex" id="addExpense">Add Expense <ion-icon
                                name="arrow-forward-outline"></ion-icon></button>
                    </form>
                
                </div>

                

            </div>
        </main>

        <div class="graphbox">
            <div class="box">
                <canvas id="barChart"></canvas>
            </div>
            <div class="box">
                <canvas id="polarAreaChart" style="box-sizing: border-box; display: block; height: 100px; width: 343px;" width="400" height="176"></canvas>
            </div>
        </div>
    

    </header>
    
    <!-- Footer Section -->

    <footer class="flex container">
        <div class="footer-text">
            Copyright Â© 2023 - All right reserved | Akindele Oloruntobi
        </div>
        
    </footer>

    <!-- ion-icon File -->
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

    <!-- Gsap Cdn -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.1/gsap.min.js"
        integrity="sha512-qF6akR/fsZAB4Co1QDDnUXWnaQseLGXoniuSuSlPQK6+aWhlMZcHzkasCSlnWoe+TJuudlka1/IQ01Dnhgq95g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

        <script src="{% static 'gsap.js' %}"></script>
</body>
  <p><a href="{% url 'logout' %}">Log Out</a></p>
  <p><a href="{% url 'password_reset' %}">Reset Password</a></p>
{% else %}
  <p>You are not logged in</p>
  <a href="{% url 'login' %}">Log In</a>
{% endif %}
{% endblock %}